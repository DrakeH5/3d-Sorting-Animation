<html>
  <head><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script></head>
  <body>

    <h2 style="position: absolute">Speed: <input type="range" min="1" max="100" value="10" class="slider" id="speedSlider"> <Button onclick="finishInstantly = true">Finish</Button></h2>

    <style>
    body {
      margin: 0;
      height: 100vh;
    }

    canvas {
      display: block;
    }
    </style>


    <script src="./node_modules\three/three.js"></script>
    <script src="swap.js"></script>
    <script src="swapColors.js"></script>
    <script src="selectionSort.js"></script>
    <script src="bubbleSort.js"></script>
    <script>
        var scene = new THREE.Scene(); //created a three.js scene

        var camera = new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000) //create a camera
        camera.position.z = 50;
        camera.position.y = 20;

        var renderer = new THREE.WebGLRenderer({antialias: true}); //create renderer
        renderer.setClearColor("darkgrey"); //essentially a background color
        renderer.setSize(window.innerWidth,window.innerHeight); //set renderer size to size of the page

        document.body.appendChild(renderer.domElement); //creates a canvas with our render's specifications

        renderer.render(scene, camera); //just render (show) everything on our canvas


        var material = new THREE.MeshLambertMaterial({color: 0xFFCC00});

        var cubes = [];

        for(var i=0; i<100; i++){
            var height = Math.floor(Math.random() * 70) + 1;
            var geometry = new THREE.BoxGeometry(1, height, 1); 
            var cube = new THREE.Mesh(geometry, material);
            scene.add(cube)
            cube.position.x=i-50;
            cube.position.y=(height/2)-15;
            cubes.push(cube);
        }


        var light = new THREE.PointLight(0xFFFFFF, 1, 500); //creates a light (color, intensity, distance)
        light.position.set(10, 0, 25); //sets light position (x, y, z)
        scene.add(light); //add the light to the scene


        document.body.onmousemove = function(evt) {
            camera.rotation.y-=evt.movementX/10000;
        };


        var render = function() {
          requestAnimationFrame(render);
          renderer.render(scene, camera); //just render (show) everything on our canvas
        }

        render();

        const delay = () => new Promise(res => setTimeout(res, document.getElementById("speedSlider").value));

        finishInstantly = false;


        BubbleSort(cubes)

    </script>
  </body>
</html>